<div class="container">
  <div class="row">
    <div class="col-md-12">
      <p class="text-right">{{ date }}</p>
    </div>
  </div>
  <div class="row border border-1 rounded">
    <div class="col-md-12 p-2 border-bottom">
      <h3>Online Ticket Order</h3>
    </div>
    <div class="col-md-6  p-2 border-right">
      <!-- CUSTOMER FORM STARTS HERE -->
      <form
        [formGroup]="form"
        #searchInfo1
        (ngSubmit)="searchCust(searchInfo1)"
      >
        <div class="form-group">
          <label>
            Customer
          </label>
          <div class="row">
            <div class="col-md-9 pr-0">
              <input
                type="number"
                formControlName="id"
                placeholder="Enter ID"
                class="form-control"
              />
            </div>
            <div class="col-md-3">
              <button type="submit" class="btn btn-primary btn-block">
                Search
              </button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>
            Name
          </label>
          <input
            type="text"
            formControlName="name"
            class="form-control"
            id="customerName"
            [value]="datac ? datac.name : null"
            readonly
          />
        </div>
        <div class="form-group">
          <label>
            Phone
          </label>
          <input
            type="text"
            formControlName="phone"
            class="form-control"
            id="customerPhone"
            [value]="datac ? datac.phone : null"
            readonly
          />
        </div>
        <div class="form-group">
          <label>
            Email
          </label>
          <input
            type="text"
            formControlName="email"
            class="form-control"
            id="customerPassword"
            [value]="datac ? datac.email : null"
            readonly
          />
        </div>
      </form>
    </div>
    <div class="col-md-6 p-2">
      <!-- TICKETING FORM STARTS HERE -->
      <form
        [formGroup]="myForm"
        #searchInfo2
        (ngSubmit)="searchFilm(searchInfo1)"
      >
        <div class="form-group">
          <label>
            Film
          </label>
          <div class="row">
            <div class="col-md-9 pr-0">
              <input
                type="text"
                formControlName="film"
                placeholder="Enter film name"
                class="form-control"
              />
            </div>
            <div class="col-md-3">
              <button type="submit" class="btn btn-primary btn-block">
                Submit
              </button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>
            Film Name
          </label>
          <input
            type="text"
            formControlName="filmName"
            class="form-control"
            id="filmName"
            [value]="dataf ? dataf[0].film : null"
            readonly
          />
        </div>
        <div class="form-group">
          <label>
            Time
          </label>
          <input
            type="text"
            formControlName="filmTime"
            class="form-control"
            id="time"
            [value]="
              dataf ? dataf[0].startTime + ' - ' + dataf[0].finishTime : null
            "
            readonly
          />
        </div>
        <div class="form-group">
          <label>
            Buy
          </label>
          <input
            type="number"
            formControlName="filmQuantity"
            class="form-control"
            id="buy"
            min="0"
            [max]="dataf ? dataf[0].quantity : 0"
          />
        </div>
      </form>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 text-right" style="margin: 10px">
      <button
        type="button"
        class="btn btn-secondary"
        style="margin-right: 10px"
        (click)="resetFields()"
      >
        Reset
      </button>
      <button type="button" class="btn btn-success" (click)="postOrder()">
        Order
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 border border-1 rounded" style="padding: 10px;">
      <h3>Currently showing</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Film Name</th>
            <th>Start Date</th>
            <th>Time</th>
            <th>Quantity</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of films">
            <td>{{ item.film }}</td>
            <td>{{ item.date }}</td>
            <td>{{ item.startTime }} - {{ item.finishTime }}</td>
            <td>{{ item.quantity }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
